Настройка базы данных Sqlite
============================



Канборд использует для хранения данных Sqlite по умолчанию. Все задачи, проекты и учетные записи пользователей храняться в этой базе данных.



База данных Sqlite хранит данные в файле `db.sqlite` в директории `data`.



Экспорт/Резервное копирование[¶](#export-backup "Ссылка на этот заголовок")
---------------------------------------------------------------------------



### Командная строка[¶](#command-line "Ссылка на этот заголовок")



Создание резервных копий выполняется просто, надо скопировать файл `data/db.sqlite` туда, где у вас будут хранится резервные копии.



### Пользовательский интерфейс[¶](#user-interface "Ссылка на этот заголовок")



Также, в любое время, вы можете скачать базу данных прямо через меню **Настройки**.



Выгружаемая база данных упакована с помощью Gzip и имя базы выглядитит как `db.sqlite.gz`.



Импорт/Восстановление[¶](#import-restoration "Ссылка на этот заголовок")
------------------------------------------------------------------------



Загрузить базу данных через пользовательский интерфейс невозможно. Восстановление должно быть выполнено вручную, когда никто не работает с программой.



-   Для восстановления резервной копии, достаточно заменить рабочий файл `data/db.sqlite`.



-   Для разархивирования базы данных упакованной с помощью gzip, выполните следующую команду в терминале: `gunzip db.sqlite.gz`.



Оптимизация[¶](#optimization "Ссылка на этот заголовок")
--------------------------------------------------------



Время от времени, рекомендуется оптимизировать базу данных выполнив команду `VACUUM`. Эта команда пересоздает всю базу данных и используется в следующих случаях:



-   Для уменьшения размера файла базы данных. В процессе работы пользователей, после удаления записей, в базе данных остается пустое пространство и, соответственно, размер файла базы данных остается прежним.



-   Дефрагментация, база данных фрагментирована выполнением частыми вставками или обновлениями.



### Выполнение оптимизации в командной строке[¶](#from-the-command-line "Ссылка на этот заголовок")



    sqlite3 data/db.sqlite 'VACUUM'



### Выполнение оптимизации через пользовательский интерфейс[¶](#from-the-user-interface "Ссылка на этот заголовок")



Перейдите в правое выпадающее меню **Настройки** и нажмите на ссылку **Оптимизировать базу данных**



Для дополнительной информации, изучите [документацию Sqlite](https://sqlite.org/lang_vacuum.html).





[Русская документация Kanboard](http://kanboard.ru/doc/)

